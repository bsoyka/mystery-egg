<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Anti-flicker snippet (recommended)  -->
    <style>
        .async-hide {
            opacity: 0 !important
        }
    </style>
    <script>
        (function(a, s, y, n, c, h, i, d, e) {
            s.className += ' ' + y;
            h.start = 1 * new Date;
            h.end = i = function() {
                s.className = s.className.replace(RegExp(' ?' + y), '')
            };
            (a[n] = a[n] || []).hide = h;
            setTimeout(function() {
                i();
                h.end = null
            }, c);
            h.timeout = c;
        })(window, document.documentElement, 'async-hide', 'dataLayer', 4000, {
            'GTM-MZBJ3W6': true
        });
    </script>
    <!-- Google Tag Manager -->
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MZBJ3W6');
    </script>
    <!-- End Google Tag Manager -->
    <script src="https://browser.sentry-cdn.com/5.0.5/bundle.min.js" crossorigin="anonymous"></script>
    <script>
        Sentry.init({
            dsn: 'https://1586b1c6740e48bdb7e20c9970e7ff68@sentry.io/1431867'
        });
    </script>
    <script>window.upsettings = {'api_key': 'SmrQuxTcdwWacBhO46AxheJfJGGzW0GjAcoTIVyqR9Mp3wpVdyeSzoZcri6m'}</script><script>(function(){var w=window;var up=w.Upscribe;if(typeof up==="function"){up('reattach_activator');up('update',upsettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Upscribe=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://upscri.be/js/snippet.js';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if( w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A generator to find the meaning of the abbreviation ME.">
    <title>Mystery Egg</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="index.css">
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "BreadcrumbList",
            "itemListElement": [{
                "@type": "ListItem",
                "position": 1,
                "name": "Mystery Egg",
                "item": "https://mystery-egg.github.io"
            }]
        }
    </script>
    <script>
        (function(w, d, s, r, n) {
            w.TrustpilotObject = n;
            w[n] = w[n] || function() {
                (w[n].q = w[n].q || []).push(arguments)
            };
            a = d.createElement(s);
            a.async = 1;
            a.src = r;
            a.type = 'text/java' + s;
            f = d.getElementsByTagName(s)[0];
            f.parentNode.insertBefore(a, f)
        })(window, document, 'script', 'https://invitejs.trustpilot.com/tp.min.js', 'tp');
        tp('register', 'L4PhKG6NhcPUUF5D');
    </script>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MZBJ3W6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div id="main-killed">
        <h1>Mystery Egg</h1>
        <h6 class="text-muted">A website to generate a meaning for the abbreviation selected below, originally for use in online storytelling.</h6>
        <h2>This feature has been temporarily disabled.</h2>
    </div>
    <div id="main">
        <h1 id="result">Mystery Egg</h1>
        <h6 class="text-muted">A website to generate a meaning for the abbreviation selected below, originally for use in online storytelling.</h6>
        <br><br>
        <div class="input-group mb-1">
            <select class="form-control" id="first-select" onchange="saveOptionAsCookie(this)">
                <option value="a_first_words">A</option>
                <option value="b_first_words">B</option>
                <option value="c_first_words">C</option>
                <option value="d_first_words">D</option>
                <option value="e_first_words">E</option>
                <option value="f_first_words">F</option>
                <option value="g_first_words">G</option>
                <option value="h_first_words">H</option>
                <option value="k_first_words">K</option>
                <option value="l_first_words">L</option>
                <option value="m_first_words" selected>M</option>
                <option value="s_first_words">S</option>
                <option value="t_first_words">T</option>
            </select>
            <select class="form-control" id="second-select"  onchange="saveOptionAsCookie(this)">
                <option value="a_second_words">A</option>
                <option value="b_second_words">B</option>
                <option value="c_second_words">C</option>
                <option value="d_second_words">D</option>
                <option value="e_second_words" selected>E</option>
                <option value="f_second_words">F</option>
                <option value="g_second_words">G</option>
                <option value="h_second_words">H</option>
                <option value="l_second_words">L</option>
                <option value="m_second_words">M</option>
                <option value="p_second_words">P</option>
                <option value="s_second_words">S</option>
                <option value="t_second_words">T</option>
                <option value="z_second_words">Z</option>
            </select>
        </div>
        <br>
        <button class="btn btn-primary" onclick="run();">Randomize <span class="desktop-only" style="display: inline;">(spacebar)</span></button>
    </div>

    <!-- footerbar -->
    <div class="siteFooterBar">
        <div>Result: 1 in <span id="totalCombinations"></span></div>
        <a href="http://eepurl.com/gwXcQj" style="color: black;"><i class="fas fa-newspaper"></i></a>
        <a href="mailto:mysteryegg@maskedmail.net" style="color: black;"><i class="fas fa-envelope"></i></a>
        <a href="contribute" style="color: black;"><i class="fas fa-hands-helping"></i></a>
    </div>

    <script src="vars.js"></script>
    <script>
        function run() {

            var first_words = window[document.getElementById("first-select").value];
            var second_words = window[document.getElementById("second-select").value];

            var first_word = first_words[Math.floor(Math.random() * first_words.length)];
            var second_word = second_words[Math.floor(Math.random() * second_words.length)];

            var result = first_word + " " + second_word;

            document.getElementById("result").innerHTML = result;

            document.getElementById("totalCombinations").innerHTML = first_words.length * second_words.length;
        }

        document.body.onkeyup = function(e) {
            if (e.keyCode == 32) {
                run();
            }
        }
    </script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5caa19cbf1f316f0"></script>
    <script type="text/javascript">
        var infolinks_pid = 3177398;
        var infolinks_wsid = 0;
    </script>
    <script type="text/javascript" src="//resources.infolinks.com/js/infolinks_main.js"></script>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/configcat-js@latest/dist/configcat.min.js"></script>
    <script type="text/javascript">
        var configCatClient = configcat.createClientWithAutoPoll('hj3XCIQh6eEZlMTDVcgoWA/u8vNRgE0YU-2Za8D347Z-A', {
            pollIntervalSeconds: 2,
            configChanged: function() {
                configCatClient.getValue("generationEnabled", true, function(value) {
                    if (value == false) {
                        document.getElementById("main").style = "display: none;";
                        document.getElementById("main-killed").style = "display: block;";
                    } else {
                        document.getElementById("main").style = "display: block;";
                        document.getElementById("main-killed").style = "display: none;";
                    }
                });
            }
        });
        configCatClient.getValue("generationEnabled", true, function(value) {
            if (value == false) {
                document.getElementById("main").style = "display: none;";
                document.getElementById("main-killed").style = "display: block;";
            } else {
                document.getElementById("main").style = "display: block;";
                document.getElementById("main-killed").style = "display: none;";
            }
        });
    </script>

    <!-- Script to save options as cookies -->
    <script>
            function setCookie(cname, cvalue, exdays) {
                var d = new Date();
                d.setTime(d.getTime() + (exdays*24*60*60*1000));
                var expires = "expires="+ d.toUTCString();
                document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
            }
    
            function getCookie(cname) {
                var name = cname + "=";
                var decodedCookie = decodeURIComponent(document.cookie);
                var ca = decodedCookie.split(';');
                for(var i = 0; i <ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                    }
                }
                return "";
            }
    
            function saveOptionAsCookie(el) {
                setCookie(el.id, el.value, 90);
            }
            
            function getOptionsFromCookies() {
                var select_first = document.getElementById("first-select");
                var select_second = document.getElementById("second-select");
                select_first.value = getCookie("first-select") || "m_first_words";
                select_second.value = getCookie("second-select") || "e_second_words";
                run();
            }
            getOptionsFromCookies();
        </script>
</body>

</html>
